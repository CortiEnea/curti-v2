<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Fernando Curti SA{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
  </head>
  <body class="{% if request.endpoint == 'site.home' %}page-home{% else %}page-internal{% endif %}">
    <nav class="nav{% if request.endpoint != 'site.home' %} nav--scrolled{% endif %}" id="nav">
      <div class="nav-container">
        <a href="{{ url_for('site.home') }}" class="nav-brand">
          <div class="nav-logo">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="{{ company.name }}" />
          </div>
          <div class="nav-brand-text">
            <span class="nav-brand-name">{{ company.name }}</span>
            <span class="nav-brand-tag">Dal 1974</span>
          </div>
        </a>

        <div class="nav-links">
          <a class="nav-link{% if request.endpoint == 'site.home' %} nav-link--active{% endif %}" href="{{ url_for('site.home') }}">Home</a>
          <a class="nav-link{% if request.endpoint == 'site.about' %} nav-link--active{% endif %}" href="{{ url_for('site.about') }}">Chi siamo</a>
          <a class="nav-link{% if request.endpoint == 'site.products' %} nav-link--active{% endif %}" href="{{ url_for('site.products') }}">Prodotti</a>
          <a class="nav-link{% if request.endpoint == 'site.projects' %} nav-link--active{% endif %}" href="{{ url_for('site.projects') }}">Progetti</a>
          <a class="nav-link{% if request.endpoint == 'site.real_estate' %} nav-link--active{% endif %}" href="{{ url_for('site.real_estate') }}">Immobili</a>
          <a class="nav-cta" href="{{ url_for('site.contact') }}">Contatti</a>
        </div>

        <div class="nav-toggle" id="navToggle">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>

    <main>
      {% block content %}{% endblock %}
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-brand">
            <div class="footer-brand-name">{{ company.name }}</div>
            <div class="footer-brand-tag">{{ company.tagline }}</div>
            <p>Dal 1974, falegnameria di famiglia in Ticino. Qualità artigianale, metodo contemporaneo.</p>
          </div>
          
          <div class="footer-col">
            <h4>Navigazione</h4>
            <ul class="footer-links">
              <li><a href="{{ url_for('site.home') }}">Home</a></li>
              <li><a href="{{ url_for('site.about') }}">Chi siamo</a></li>
              <li><a href="{{ url_for('site.products') }}">Prodotti</a></li>
              <li><a href="{{ url_for('site.projects') }}">Progetti</a></li>
            </ul>
          </div>
          
          <div class="footer-col">
            <h4>Servizi</h4>
            <ul class="footer-links">
              <li><a href="{{ url_for('site.real_estate') }}">Immobili</a></li>
              <li><a href="{{ url_for('site.contact') }}">Contatti</a></li>
              <li><a href="{{ company.maps_link }}" target="_blank">Google Maps</a></li>
            </ul>
          </div>
          
          <div class="footer-col">
            <h4>Contatti</h4>
            <ul class="footer-links">
              <li><a href="tel:{{ company.phone_joinery }}">{{ company.phone_joinery }}</a></li>
              <li><a href="mailto:{{ company.email }}">{{ company.email }}</a></li>
            </ul>
          </div>
        </div>
        
        <div class="footer-bottom">
          <div class="footer-copy">© {{ year }} {{ company.name }} — Tutti i diritti riservati</div>
          <div class="footer-legal">
            <a href="#">Privacy</a>
            <a href="#">Cookies</a>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Navbar scroll effect (only on home page)
      const nav = document.getElementById('nav');
      const isHomePage = document.body.classList.contains('page-home');
      
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          nav.classList.add('nav--scrolled');
        } else if (isHomePage) {
          // Only remove scrolled class on home page
          nav.classList.remove('nav--scrolled');
        }
      });
    </script>
  </body>
</html>
